(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a1ad2cc"],{"14c3":function(t,e,n){var i=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"38a0":function(t,e,n){"use strict";n("ac1f"),n("5319");var i=n("e423"),a="/mng/job/queryJob/",o="/mng/job/queryJobs",r="/mng/job/addJob",l="/mng/job/updateJob",s="/mng/job//deleteJob/{jobId}",c="/mng/job/deleteJobs",u="/mng/job/{jobId}/jarList",d="/mng/job/{jobId}/uploadJar",b="/mng/job/startJob/{jobId}",p="/mng/job/startJobs",f="/mng/job/reStartJob/{jobId}",h="/mng/job/reStartJobs",m="/mng/job/startJob/{jobId}",g="/mng/job/stopJobs";function v(t){return Object(i["a"])(a+t.jobId)}function j(t){return Object(i["a"])(o,t)}function y(t){return Object(i["b"])(r,t)}function S(t){return Object(i["b"])(l,t)}function x(t){return Object(i["b"])(s.replace("{jobId}",t.jobId),t)}function k(t){return Object(i["b"])(c,t.idList)}function J(t){return Object(i["a"])(u.replace("{jobId}",t.jobId))}function I(t){return Object(i["a"])(b.replace("{jobId}",t.jobId))}function C(t){return Object(i["b"])(p,t.idList)}function L(t){return Object(i["a"])(f.replace("{jobId}",t.jobId))}function O(t){return Object(i["b"])(h,t.idList)}function E(t){return Object(i["a"])(m.replace("{jobId}",t.jobId))}function w(t){return Object(i["b"])(g,t.idList)}e["a"]={UPLOAD_JAR_URL:d,queryJob:v,queryJobs:j,addJob:y,updateJob:S,deleteJob:x,deleteJobs:k,jarList:J,startJob:I,startJobs:C,restartJob:L,restartJobs:O,stopJob:E,stopJobs:w}},5319:function(t,e,n){"use strict";var i=n("d784"),a=n("825a"),o=n("7b0b"),r=n("50c4"),l=n("a691"),s=n("1d80"),c=n("8aa5"),u=n("14c3"),d=Math.max,b=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,n,i){return[function(n,i){var a=s(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,i):e.call(String(a),n,i)},function(t,o){if(i.REPLACE_KEEPS_$0||"string"===typeof o&&-1===o.indexOf("$0")){var s=n(e,t,this,o);if(s.done)return s.value}var p=a(t),f=String(this),h="function"===typeof o;h||(o=String(o));var v=p.global;if(v){var j=p.unicode;p.lastIndex=0}var y=[];while(1){var S=u(p,f);if(null===S)break;if(y.push(S),!v)break;var x=String(S[0]);""===x&&(p.lastIndex=c(f,r(p.lastIndex),j))}for(var k="",J=0,I=0;I<y.length;I++){S=y[I];for(var C=String(S[0]),L=d(b(l(S.index),f.length),0),O=[],E=1;E<S.length;E++)O.push(m(S[E]));var w=S.groups;if(h){var _=[C].concat(O,L,f);void 0!==w&&_.push(w);var $=String(o.apply(void 0,_))}else $=g(C,f,L,O,w,o);L>=J&&(k+=f.slice(J,L)+$,J=L+C.length)}return k+f.slice(J)}];function g(t,n,i,a,r,l){var s=i+t.length,c=a.length,u=h;return void 0!==r&&(r=o(r),u=f),e.call(l,u,(function(e,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(s);case"<":l=r[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>c){var d=p(u/10);return 0===d?e:d<=c?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):e}l=a[u-1]}return void 0===l?"":l}))}}))},8418:function(t,e,n){"use strict";var i=n("c04e"),a=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var r=i(e);r in t?a.f(t,r,o(0,n)):t[r]=n}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),a=n("9f7f"),o=RegExp.prototype.exec,r=String.prototype.replace,l=o,s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=s||u||c;d&&(l=function(t){var e,n,a,l,d=this,b=c&&d.sticky,p=i.call(d),f=d.source,h=0,m=t;return b&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,h++),n=new RegExp("^(?:"+f+")",p)),u&&(n=new RegExp("^"+f+"$(?!\\s)",p)),s&&(e=d.lastIndex),a=o.call(b?n:d,m),b?a?(a.input=a.input.slice(h),a[0]=a[0].slice(h),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:s&&a&&(d.lastIndex=d.global?a.index+a[0].length:e),u&&a&&a.length>1&&r.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=l},"9f7f":function(t,e,n){"use strict";var i=n("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,e,n){"use strict";var i=n("23e7"),a=n("23cb"),o=n("a691"),r=n("50c4"),l=n("7b0b"),s=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),b=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!b||!p},{splice:function(t,e){var n,i,u,d,b,p,v=l(this),j=r(v.length),y=a(t,j),S=arguments.length;if(0===S?n=i=0:1===S?(n=0,i=j-y):(n=S-2,i=h(f(o(e),0),j-y)),j+n-i>m)throw TypeError(g);for(u=s(v,i),d=0;d<i;d++)b=y+d,b in v&&c(u,d,v[b]);if(u.length=i,n<i){for(d=y;d<j-i;d++)b=d+i,p=d+n,b in v?v[p]=v[b]:delete v[p];for(d=j;d>j-i+n;d--)delete v[d-1]}else if(n>i)for(d=j-i;d>y;d--)b=d+i-1,p=d+n-1,b in v?v[p]=v[b]:delete v[p];for(d=0;d<n;d++)v[d+y]=arguments[d+2];return v.length=j-i+n,u}})},ac1f:function(t,e,n){"use strict";var i=n("23e7"),a=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},bf5a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1===t.type?n("div",[n("JobListCustom")],1):t._e()])},a=[],o=n("d4ec"),r=n("99de"),l=n("7e84"),s=n("262e"),c=n("9ab4"),u=n("60a3"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-bottom":"10px",padding:"5px",background:"#f8f8f9"}},[n("Row",{attrs:{gutter:10}},[n("Col",{attrs:{span:"20"}},[n("span",[t._v(" ID : ")]),n("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"",size:"small",clearable:""},model:{value:t.jobListFilter.id,callback:function(e){t.$set(t.jobListFilter,"id",e)},expression:"jobListFilter.id"}}),n("span",[t._v(" 名称 : ")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",size:"small",clearable:""},model:{value:t.jobListFilter.name,callback:function(e){t.$set(t.jobListFilter,"name",e)},expression:"jobListFilter.name"}}),n("span",[t._v(" 类型 : ")]),n("Select",{staticStyle:{width:"120px"},attrs:{size:"small",clearable:""},model:{value:t.jobListFilter.type,callback:function(e){t.$set(t.jobListFilter,"type",e)},expression:"jobListFilter.type"}},t._l(t.hintJobTypeEnum,(function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.desc))])})),1),n("span",[t._v(" 状态 : ")]),n("Select",{staticStyle:{width:"120px"},attrs:{size:"small",clearable:""},model:{value:t.jobListFilter.lastStatus,callback:function(e){t.$set(t.jobListFilter,"lastStatus",e)},expression:"jobListFilter.lastStatus"}},t._l(t.hintJobInstanceStatusEnum,(function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.desc))])})),1)],1),n("Col",{attrs:{span:"4",align:"right"}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.clickQuery}},[t._v("查询")]),n("Button",{attrs:{type:"success",size:"small"},on:{click:t.clickCreate}},[t._v("新建")])],1)],1)],1),n("div",[n("Table",{ref:"selection",attrs:{stripe:"",columns:t.jobListColumns,data:t.jobList},on:{"on-select-all-cancel":t.handleSelectAllCancel,"on-select-all":t.handleSelectAll,"on-select":t.handleSelect,"on-select-cancel":t.handleSelectCancel},scopedSlots:t._u([{key:"lastStatus",fn:function(e){var i=e.row;return[i.lastStatusDesc?n("ButtonJobStatus",{attrs:{size:"small",status:i.lastStatus,text:i.lastStatusDesc}}):t._e()]}},{key:"operator",fn:function(e){var i=e.row;return[n("div",[n("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.clickDetail(i)}}},[t._v("详情")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"small"},on:{click:function(e){return t.clickEdit(i)}}},[t._v("编辑")])],1)]}}])})],1),n("div",{staticStyle:{"margin-top":"10px",padding:"5px",background:"#f8f8f9"}},[n("Row",{attrs:{gutter:10}},[n("Col",{attrs:{span:"8"}},[n("Button",{attrs:{type:"success",size:"small",disabled:0===t.multiSelectJobIds.length},on:{click:t.clickStartJobs}},[t._v("启动")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"small",disabled:0===t.multiSelectJobIds.length},on:{click:t.clickRestartJobs}},[t._v("重启")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error",size:"small",disabled:0===t.multiSelectJobIds.length},on:{click:t.clickStopJobs}},[t._v("停止")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error",size:"small",disabled:0===t.multiSelectJobIds.length},on:{click:t.clickDeleteJobs}},[t._v("删除")])],1),n("Col",{attrs:{span:"16",align:"right"}},[n("Page",{attrs:{total:t.jobListFilterPage.total,current:t.jobListFilter.pageNum,"page-size":t.jobListFilter.pageSize,"page-size-opts":[5,10,20,50,100],"show-total":"","show-sizer":"","show-elevator":"",size:"small"},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}})],1)],1)],1),n("div",[n("Modal",{attrs:{title:"新建作业",draggable:"","ok-text":"新建"},on:{"on-ok":t.clickCreateOk,"on-cancel":t.clickCreateCancel},model:{value:t.jobCreateModal,callback:function(e){t.jobCreateModal=e},expression:"jobCreateModal"}},[n("Form",{attrs:{model:t.jobCreateItems,"label-width":80}},[n("FormItem",{attrs:{label:"作业名称 :"}},[n("Input",{attrs:{placeholder:""},model:{value:t.jobCreateItems.name,callback:function(e){t.$set(t.jobCreateItems,"name",e)},expression:"jobCreateItems.name"}})],1),n("FormItem",{attrs:{label:"作业类型 : "}},[n("Select",{model:{value:t.jobCreateItems.type,callback:function(e){t.$set(t.jobCreateItems,"type",e)},expression:"jobCreateItems.type"}},t._l(t.hintJobTypeEnum,(function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.desc))])})),1)],1),n("FormItem",{attrs:{label:"作业描述 :"}},[n("Input",{attrs:{type:"textarea",placeholder:"",rows:4},model:{value:t.jobCreateItems.description,callback:function(e){t.$set(t.jobCreateItems,"description",e)},expression:"jobCreateItems.description"}})],1)],1)],1)],1)])},b=[],p=(n("c975"),n("d81d"),n("a434"),n("b0c0"),n("bee2")),f=n("38a0"),h=n("7d61"),m=n("5eb3"),g=n("0e26"),v=n("acdc"),j=n("da2e"),y=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.hintJobTypeEnum=[],t.hintJobInstanceStatusEnum=[],t.jobListColumns=[{type:"selection",title:"ID",key:"id",width:50},{title:"ID",key:"id",align:"center",width:100},{title:"名称",key:"name",align:"center",ellipsis:!0,render:function(e,n){return e("a",{on:{click:function(){t.handClickJobListColumnName(n.row)}}},n.row.name)}},{title:"类型",key:"typeDesc",align:"center"},{title:"开始时间",key:"lastStartTime",align:"center",width:166,render:function(t,e){return t("div",m["a"].dateFormat(e.row.lastStartTime))}},{title:"结束时间",key:"lastStopTime",align:"center",width:166,render:function(t,e){return t("div",m["a"].dateFormat(e.row.lastStopTime))}},{title:"状态",key:"lastStatus",align:"center",slot:"lastStatus"},{title:"操作",fixed:"right",align:"center",slot:"operator",width:140}],t.jobList=[],t.jobListFilter={id:null,name:null,type:null,lastStatus:null,pageNum:1,pageSize:10},t.jobListFilterPage={total:null},t.jobCreateModal=!1,t.jobCreateItems={name:"name",type:1,description:"desc"},t.multiSelectJobIds=[],t}return Object(s["a"])(e,t),Object(p["a"])(e,[{key:"handClickJobListColumnName",value:function(t){this.$router.push({path:"/page/job/detail",query:{id:t.id}})}},{key:"clickQuery",value:function(){history.pushState({},"",window.location.pathname+"?"+j["a"].stringifyExcludedBlank(this.jobListFilter)),this.getJobList()}},{key:"pageChange",value:function(t){this.jobListFilter.pageNum=t,this.getJobList()}},{key:"pageSizeChange",value:function(t){this.jobListFilter.pageSize=t,this.getJobList()}},{key:"clickCreate",value:function(){this.jobCreateModal=!0}},{key:"clickCreateOk",value:function(){var t=this;f["a"].addJob(this.jobCreateItems).then((function(e){t.getJobList()})).then((function(e){t.$Notice.success({title:"新建作业成功"})}))}},{key:"clickCreateCancel",value:function(){this.$Notice.warning({title:"取消新建作业"})}},{key:"clickDetail",value:function(t){this.$router.push({path:"/page/job/detail",query:{id:t.id}})}},{key:"clickEdit",value:function(t){this.$router.push({path:"/page/job/edit",query:{id:t.id}})}},{key:"handleSelectAllCancel",value:function(t){this.multiSelectJobIds=[]}},{key:"handleSelectAll",value:function(t){this.multiSelectJobIds=t.map((function(t){return t.id}))}},{key:"handleSelect",value:function(t,e){this.multiSelectJobIds.push(e.id)}},{key:"handleSelectCancel",value:function(t,e){this.multiSelectJobIds.splice(this.multiSelectJobIds.indexOf(e.id),1)}},{key:"clickStartJobs",value:function(){var t=this;f["a"].startJobs({idList:this.multiSelectJobIds}).then((function(e){t.$Notice.success({title:"启动作业成功"})})).catch((function(e){t.$Notice.error({title:"启动作业失败",desc:e.msg})}))}},{key:"clickRestartJobs",value:function(){var t=this;f["a"].restartJobs({idList:this.multiSelectJobIds}).then((function(e){t.$Notice.success({title:"重启作业成功"})})).catch((function(e){t.$Notice.error({title:"重启作业失败",desc:e.msg})}))}},{key:"clickStopJobs",value:function(){var t=this;f["a"].stopJobs({idList:this.multiSelectJobIds}).then((function(e){t.$Notice.success({title:"停止作业成功"})})).catch((function(e){t.$Notice.error({title:"停止作业失败",desc:e.msg})}))}},{key:"clickDeleteJobs",value:function(){var t=this;f["a"].deleteJobs({idList:this.multiSelectJobIds}).then((function(e){t.getJobList(),t.handleSelectAllCancel(t.multiSelectJobIds),t.$Notice.success({title:"删除作业成功"})})).catch((function(e){t.$Notice.error({title:"删除作业失败",desc:e.msg})}))}},{key:"getJobList",value:function(){var t=this;f["a"].queryJobs(g["a"].mapDeleteBlankVK(this.jobListFilter)).then((function(e){t.jobList=e.list,t.jobListFilterPage.total=e.total})).catch((function(e){t.$Notice.error({title:e.msg})}))}},{key:"getEnums",value:function(){var t=this;h["a"].jobType().then((function(e){t.hintJobTypeEnum=e})),h["a"].jobInstanceStatus().then((function(e){t.hintJobInstanceStatusEnum=e}))}},{key:"parseRouter",value:function(){this.jobListFilter=g["a"].mapLeftJoinCopy(this.jobListFilter,this.$route.query)}},{key:"mounted",value:function(){this.parseRouter(),this.getJobList(),this.getEnums()}}]),e}(u["c"]);y=c["a"]([Object(u["a"])({components:{ButtonJobStatus:v["a"]}})],y);var S=y,x=S,k=n("2877"),J=Object(k["a"])(x,d,b,!1,null,"620b641d",null),I=J.exports,C=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.type=1,t}return Object(s["a"])(e,t),e}(u["c"]);C=c["a"]([Object(u["a"])({components:{JobListCustom:I}})],C);var L=C,O=L,E=Object(k["a"])(O,i,a,!1,null,"35ec7740",null);e["default"]=E.exports},c975:function(t,e,n){"use strict";var i=n("23e7"),a=n("4d64").indexOf,o=n("a640"),r=n("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(t){return s?l.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),a=n("d039"),o=n("b622"),r=n("9263"),l=n("9112"),s=o("species"),c=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,b){var p=o(t),f=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=f&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!f||!h||"replace"===t&&(!c||!u)||"split"===t&&!d){var m=/./[p],g=n(p,""[t],(function(t,e,n,i,a){return e.exec===r?f&&!a?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u}),v=g[0],j=g[1];i(String.prototype,t,v),i(RegExp.prototype,p,2==e?function(t,e){return j.call(t,this,e)}:function(t){return j.call(t,this)})}b&&l(RegExp.prototype[p],"sham",!0)}}}]);
//# sourceMappingURL=chunk-1a1ad2cc.8e06fcb9.js.map
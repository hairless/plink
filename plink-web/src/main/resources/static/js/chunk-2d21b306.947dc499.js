(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b306"],{bf5a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[1===t.type?a("div",[a("JobListCustom")],1):t._e()])},n=[],s=a("d4ec"),o=a("99de"),l=a("7e84"),c=a("262e"),r=a("9ab4"),u=a("60a3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px",padding:"5px",background:"#f8f8f9"}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"20"}},[a("span",[t._v(" ID : ")]),a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"",size:"small"},model:{value:t.jobQueryCondition.id,callback:function(e){t.$set(t.jobQueryCondition,"id",e)},expression:"jobQueryCondition.id"}}),a("span",[t._v(" 名称 : ")]),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",size:"small"},model:{value:t.jobQueryCondition.name,callback:function(e){t.$set(t.jobQueryCondition,"name",e)},expression:"jobQueryCondition.name"}})],1),a("Col",{attrs:{span:"4",align:"right"}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.clickQuery}},[t._v("查询")]),a("Button",{attrs:{type:"success",size:"small"},on:{click:t.clickCreate}},[t._v("新建")])],1)],1)],1),a("div",[a("Table",{ref:"selection",attrs:{stripe:"",columns:t.jobListColumns,data:t.jobList},scopedSlots:t._u([{key:"operator",fn:function(e){var i=e.row;return[a("div",[a("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.clickDetail(i)}}},[t._v("详情")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"small"},on:{click:function(e){return t.clickEdit(i)}}},[t._v("编辑")])],1)]}}])})],1),a("div",{staticStyle:{"margin-top":"10px",padding:"5px",background:"#f8f8f9"}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"8"}},[a("Button",{attrs:{type:"success",size:"small"},on:{click:t.clickStart}},[t._v("启动")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"small"},on:{click:t.clickRestart}},[t._v("重启")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error",size:"small"},on:{click:t.clickStop}},[t._v("停止")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error",size:"small"},on:{click:t.clickDelete}},[t._v("删除")])],1),a("Col",{attrs:{span:"16",align:"right"}},[a("Page",{attrs:{total:t.page.total,current:t.page.pageNum,"page-size":t.page.pageSize,"page-size-opts":[5,10,20,50,100],"show-total":"","show-sizer":"","show-elevator":"",size:"small"},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}})],1)],1)],1),a("div",[a("Modal",{attrs:{title:"新建作业",draggable:"","ok-text":"新建"},on:{"on-ok":t.clickCreateOk,"on-cancel":t.clickCreateCancel},model:{value:t.jobCreateModal,callback:function(e){t.jobCreateModal=e},expression:"jobCreateModal"}},[a("Form",{attrs:{model:t.jobCreateItems,"label-width":80}},[a("FormItem",{attrs:{label:"作业名称 :"}},[a("Input",{attrs:{placeholder:""},model:{value:t.jobCreateItems.name,callback:function(e){t.$set(t.jobCreateItems,"name",e)},expression:"jobCreateItems.name"}})],1),a("FormItem",{attrs:{label:"作业类型 : "}},[a("Select",{model:{value:t.jobCreateItems.type,callback:function(e){t.$set(t.jobCreateItems,"type",e)},expression:"jobCreateItems.type"}},t._l(t.hintJobTypeList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),a("FormItem",{attrs:{label:"作业描述 :"}},[a("Input",{attrs:{type:"textarea",placeholder:"",rows:4},model:{value:t.jobCreateItems.description,callback:function(e){t.$set(t.jobCreateItems,"description",e)},expression:"jobCreateItems.description"}})],1)],1)],1)],1)])},b=[],d=a("bee2"),m=a("38a0"),g=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.hintJobTypeList=[{value:1,label:"自定义 / Jar"}],t.jobListColumns=[{type:"expand",key:"id",width:50},{type:"selection",title:"ID",key:"id",width:50},{title:"ID",key:"id",align:"center",width:100},{title:"名称",key:"name",align:"center"},{title:"类型",key:"type",align:"center"},{title:"描述",key:"description",align:"center"},{title:"开始时间",key:"start_time",align:"center"},{title:"结束时间",key:"stop_time",align:"center"},{title:"状态",key:"last_status",align:"center"},{title:"操作",fixed:"right",align:"center",slot:"operator",width:140}],t.jobList=[],t.page={total:100,pageNum:1,pageSize:10},t.jobQueryCondition={id:"",name:""},t.jobCreateModal=!1,t.jobCreateItems={name:"name",type:1,description:"desc"},t}return Object(c["a"])(e,t),Object(d["a"])(e,[{key:"clickQuery",value:function(){this.getJobList()}},{key:"pageChange",value:function(t){this.page.pageNum=t,this.getJobList()}},{key:"pageSizeChange",value:function(t){this.page.pageSize=t,this.getJobList()}},{key:"clickCreate",value:function(){this.jobCreateModal=!0}},{key:"clickCreateOk",value:function(){var t=this;m["a"].addJob(this.jobCreateItems).then((function(e){t.getJobList()})).then((function(e){t.$Notice.success({title:"新建作业成功"})}))}},{key:"clickCreateCancel",value:function(){this.$Notice.warning({title:"取消新建作业"})}},{key:"clickDetail",value:function(t){this.$router.push({path:"/job/detail",query:{id:t.id}})}},{key:"clickEdit",value:function(t){this.$router.push({path:"/job/edit",query:{id:t.id}})}},{key:"clickStart",value:function(){this.$Message.success("启动作业成功")}},{key:"clickRestart",value:function(){this.$Message.success("重启作业成功")}},{key:"clickStop",value:function(){this.$Message.success("停止作业成功")}},{key:"clickDelete",value:function(){this.$Message.success("删除作业成功")}},{key:"getJobList",value:function(){var t=this;m["a"].queryJobs(this.page).then((function(e){t.jobList=e.list,t.page.total=e.total}))}},{key:"mounted",value:function(){this.getJobList()}}]),e}(u["b"]);g=r["a"]([u["a"]],g);var y=g,k=y,h=a("2877"),f=Object(h["a"])(k,p,b,!1,null,"f6391666",null),v=f.exports,C=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.type=1,t}return Object(c["a"])(e,t),e}(u["b"]);C=r["a"]([Object(u["a"])({components:{JobListCustom:v}})],C);var j=C,x=j,w=Object(h["a"])(x,i,n,!1,null,"35ec7740",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d21b306.947dc499.js.map
{"version":3,"sources":["webpack:///./src/views/components/JobSqlAddEditDetail/index.vue?e9f9","webpack:///./src/api/sql.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/api/job.js","webpack:///./src/api/helper.js","webpack:///./src/api/inst.js","webpack:///./src/views/inst/list/index.vue?0555","webpack:///src/views/inst/list/index.vue","webpack:///./src/views/inst/list/index.vue?18f6","webpack:///./src/views/inst/list/index.vue?7fce","webpack:///./src/views/inst/list/index.vue?6d0f","webpack:///./src/views/components/JobSqlAddEditDetail/index.vue?67a8","webpack:///src/views/components/JobSqlAddEditDetail/index.vue","webpack:///./src/views/components/JobSqlAddEditDetail/index.vue?0c81","webpack:///./src/views/components/JobSqlAddEditDetail/index.vue?a7c4"],"names":["sqlParse","sql","request","url","method","params","$","$entries","entries","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","values","UPLOAD_JAR_URL","getJobPageList","filter","addJob","data","getJob","jobId","updateJob","deleteJob","deleteJobList","idList","getJobJarList","replace","startJob","startJobList","restartJob","restartJobList","stopJob","stopJobList","getInstStatusList","getJobTypeList","getJobClientVersionList","getDefaultFlinkConfs","getInstPageList","getInstLog","id","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","_v","model","value","dataFilter","callback","$$v","$set","expression","on","getDataList","_l","helper","item","index","_s","desc","handleDataListFlush","onQuery","onGoBack","dataColumnList","dataList","isLoading","x","scopedSlots","_u","fn","current","row","job","name","typeDesc","uiAddress","style","color","includes","status","$event","onLog","path","query","instId","page","total","range","onPageNumChange","onPageSizeChange","clientWidth","handleInstLogModalOk","handleInstLogModalCancel","instLog","staticRenderFns","components","SqlCMEditor","props","default","isAutoFlush","pageNum","pageSize","dataTableSelectedRowKeys","isVisible","timer","dataListTimer","jobTypeList","instStatusList","document","documentElement","methods","onEdit","$router","go","onDataTableSelectedChange","selectedRowKeys","inst","lastInst","clearInstLogTimer","checked","getDataListTimer","clearDataListTimer","setInterval","clearInterval","handleInstLogFlush","getInstLogTimer","initHelper","beforeDestroy","created","component","usageModeHelper","title","subTitle","slot","directives","rawName","lastStatus","lastStatusDesc","authMap","start","onStart","stop","onStop","edit","onUpdate","onDetail","delete","onDelete","handleTabChange","ref","rules","labelCol","wrapperCol","usageMode","_e","flinkConfig","jobManagerMemory","taskManagerMemory","taskManagerSlots","parallelism","minRows","span","offset","onAdd","onRest","alertMessage","showAlertException","alertException","sqlFormat","editorReadOnly","extraConfig","dataId","InstList","computed","jobUploadJarUrl","watch","deep","handler","description","type","statusDesc","clientVersion","isRetry","configsStr","configs","restart","showPassword","showAddButton","showStartButton","showStopButton","showUpdateButton","showEditButton","showDetailButton","showDeleteButton","showRest","jobJarList","jobClientVersionList","activeKey","defaultFlinkConfs","dataTimer","showAlert","msg","exception","$refs","sqlEditor","formatSql","clearMarker","console","log","res","ruleForm","validate","valid","resp","configKVs","forEach","configKVMap","k","v","handleFlush","getDataTimer","clearDataTimer","handleJarUploadChange","info","file","$message","success","getJobUploadJarList","error","refInstList","initAddUsageModel","initEditUsageModel","initDetailUsageModel","getData","Object","count","initUsageModel","init"],"mappings":"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","file":"js/chunk-d49bcd2e.6fed1a99.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4ff8310b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4ff8310b&scoped=true&lang=css&\"","import request from \"@/utils/request\";\r\n\r\n/************** 作业相关 ********************/\r\nexport function sqlParse(sql) {\r\n  return request({\r\n    url: \"/mng/sql/parse\",\r\n    method: \"post\",\r\n    params: {\"sql\": sql}\r\n  });\r\n}","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","import request from \"@/utils/request\";\r\n\r\n// 上传 Jar 的 URL\r\nexport const UPLOAD_JAR_URL = \"/mng/job/{jobId}/uploadJar\";\r\n\r\n/************** 作业相关 ********************/\r\nexport function getJobPageList(filter) {\r\n  return request({\r\n    url: \"/mng/job/queryJobs\",\r\n    method: \"get\",\r\n    params: filter\r\n  });\r\n}\r\n\r\n/*export function getJobList(filter) {\r\n  return request({\r\n    url: \"/mng/job/getJobList\",\r\n    method: \"get\",\r\n    params: filter\r\n  });\r\n}*/\r\n\r\nexport function addJob(data) {\r\n  return request({\r\n    url: \"/mng/job/addJob\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n\r\nexport function getJob(jobId) {\r\n  return request({\r\n    url: \"/mng/job/queryJob/\" + jobId,\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function updateJob(data) {\r\n  return request({\r\n    url: \"/mng/job/updateJob\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n\r\nexport function deleteJob(jobId) {\r\n  return request({\r\n    url: \"/mng/job/deleteJob/\" + jobId,\r\n    method: \"post\"\r\n  });\r\n}\r\n\r\nexport function deleteJobList(idList) {\r\n  return request({\r\n    url: \"/mng/job/deleteJobs\",\r\n    method: \"post\",\r\n    data: idList\r\n  });\r\n}\r\n\r\nexport function getJobJarList(jobId) {\r\n  return request({\r\n    url: \"/mng/job/{jobId}/jarList\".replace(\"{jobId}\", jobId),\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function startJob(jobId) {\r\n  return request({\r\n    url: \"/mng/job/startJob/{jobId}\".replace(\"{jobId}\", jobId),\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function startJobList(idList) {\r\n  return request({\r\n    url: \"/mng/job/startJobs\",\r\n    method: \"post\",\r\n    data: idList\r\n  });\r\n}\r\n\r\nexport function restartJob(jobId) {\r\n  return request({\r\n    url: \"/mng/job/reStartJob/{jobId}\".replace(\"{jobId}\", jobId),\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function restartJobList(idList) {\r\n  return request({\r\n    url: \"/mng/job/reStartJobs\",\r\n    method: \"post\",\r\n    data: idList\r\n  });\r\n}\r\n\r\nexport function stopJob(jobId) {\r\n  return request({\r\n    url: \"/mng/job/stopJob/{jobId}\".replace(\"{jobId}\", jobId),\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function stopJobList(idList) {\r\n  return request({\r\n    url: \"/mng/job/stopJobs\",\r\n    method: \"post\",\r\n    data: idList\r\n  });\r\n}\r\n","import request from \"@/utils/request\";\r\n\r\n/************** Helper 相关 ********************/\r\nexport function getInstStatusList() {\r\n  return request({\r\n    url: \"/mng/enum/jobInstanceStatus\",\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function getJobTypeList() {\r\n  return request({\r\n    url: \"/mng/enum/jobType\",\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function getJobClientVersionList() {\r\n  return request({\r\n    url: \"/mng/enum/jobClientVersion\",\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\nexport function getDefaultFlinkConfs() {\r\n  return request({\r\n    url: \"/mng/util/defaultFlinkConfs\",\r\n    method: \"get\"\r\n  });\r\n}\r\n","import request from \"@/utils/request\";\r\n\r\n/************** 实例相关 ********************/\r\nexport function getInstPageList(filter) {\r\n  return request({\r\n    url: \"/mng/jobInstance/queryJobInstances\",\r\n    method: \"get\",\r\n    params: filter\r\n  });\r\n}\r\n\r\nexport function getInstLog(id) {\r\n  return request({\r\n    url: \"/mng/jobInstance/startLog/\" + id,\r\n    method: \"get\"\r\n  });\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"padding\":\"5px\",\"background-image\":\"linear-gradient(100deg, rgba(60, 213, 255, 0.5), rgba(60, 213, 255, 0.3))\"}},[_c('a-row',{attrs:{\"gutter\":16}},[_c('a-col',{staticClass:\"gutter-row\",staticStyle:{\"padding-left\":\"20px\"},attrs:{\"span\":14}},[_c('div',{staticClass:\"gutter-box\"},[_c('span',[_vm._v(\"ID : \"),_c('a-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"eg. 1001\",\"size\":\"small\",\"allowClear\":\"\"},model:{value:(_vm.dataFilter.id),callback:function ($$v) {_vm.$set(_vm.dataFilter, \"id\", $$v)},expression:\"dataFilter.id\"}})],1),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"状态 : \"),_c('a-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"size\":\"small\",\"allowClear\":\"\"},on:{\"change\":_vm.getDataList},model:{value:(_vm.dataFilter.status),callback:function ($$v) {_vm.$set(_vm.dataFilter, \"status\", $$v)},expression:\"dataFilter.status\"}},_vm._l((_vm.helper.instStatusList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.desc)+\" \")])}),1)],1)])]),_c('a-col',{staticClass:\"gutter-row\",attrs:{\"span\":10,\"align\":\"right\"}},[_c('div',{staticClass:\"gutter-box\"},[_c('a-tooltip',{attrs:{\"title\":\"周期刷新\"}},[_c('a-switch',{attrs:{\"checked-children\":\"开\",\"un-checked-children\":\"关\"},on:{\"change\":_vm.handleDataListFlush},model:{value:(_vm.helper.isAutoFlush),callback:function ($$v) {_vm.$set(_vm.helper, \"isAutoFlush\", $$v)},expression:\"helper.isAutoFlush\"}})],1),_c('a-button',{staticClass:\"filter-tool\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onQuery}},[_vm._v(\"查询\")]),_c('a-button',{staticClass:\"filter-tool\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onGoBack}},[_vm._v(\"返回\")])],1)])],1)],1),_c('div',[_c('a-table',{attrs:{\"columns\":_vm.dataColumnList,\"data-source\":_vm.dataList,\"rowKey\":function (item) { return item.id; },\"loading\":_vm.isLoading,\"pagination\":false,\"scroll\":{ x: 1920 }},scopedSlots:_vm._u([{key:\"jobName\",fn:function(current, row){return _c('span',{},[_vm._v(\" \"+_vm._s(row.job.name)+\" \")])}},{key:\"jobType\",fn:function(current, row){return _c('span',{},[_vm._v(\" \"+_vm._s(row.job.typeDesc)+\" \")])}},{key:\"appId\",fn:function(current, row){return _c('span',{},[_c('a',{attrs:{\"href\":row.uiAddress,\"target\":\"_blank\"}},[_vm._v(_vm._s(current))])])}},{key:\"statusDesc\",fn:function(current, row){return _c('span',{},[_c('span',{style:({ color: [3, 4, -1].includes(row.status) ? 'red' : 'green' })},[_vm._v(_vm._s(current))])])}},{key:\"action\",fn:function(row){return _c('span',{},[_c('a',{on:{\"click\":function($event){return _vm.onLog(row)}}},[_vm._v(\"日志\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('router-link',{attrs:{\"to\":{ path: 'inst/instDetail', query: { instId: row.id } },\"disabled\":\"\"}},[_vm._v(\"详情\")])],1)}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"padding\":\"5px\",\"background-image\":\"linear-gradient(100deg, rgba(60,213,255,0.30), rgba(60,213,255,0.20))\"}},[_c('row',[_c('a-row',{attrs:{\"gutter\":16}},[_c('a-col',{staticClass:\"gutter-row\",attrs:{\"span\":12}},[_c('div',{staticClass:\"gutter-box\"},[_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"周期刷新 : \")]),_c('a-switch',{attrs:{\"checked-children\":\"开\",\"un-checked-children\":\"关\"},on:{\"change\":_vm.handleDataListFlush},model:{value:(_vm.helper.isAutoFlush),callback:function ($$v) {_vm.$set(_vm.helper, \"isAutoFlush\", $$v)},expression:\"helper.isAutoFlush\"}})],1)]),_c('a-col',{staticClass:\"gutter-row\",attrs:{\"span\":12,\"align\":\"right\"}},[_c('div',{staticClass:\"gutter-box\"},[_c('a-pagination',{attrs:{\"size\":\"small\",\"pageSizeOptions\":['1', '2', '10', '20', '30', '40', '50', '100', '500', '1000'],\"total\":_vm.page.total,\"show-total\":function (total, range) { return (\"第 \" + (range[0]) + \" ~ \" + (range[1]) + \" 项，共 \" + (_vm.page.total) + \" 项\"); },\"show-size-changer\":\"\",\"show-quick-jumper\":\"\"},on:{\"change\":_vm.onPageNumChange,\"showSizeChange\":_vm.onPageSizeChange}})],1)])],1)],1)],1),_c('a-modal',{attrs:{\"title\":\"实例日志\",\"width\":_vm.helper.clientWidth * 0.8},on:{\"ok\":_vm.handleInstLogModalOk,\"cancel\":_vm.handleInstLogModalCancel},model:{value:(_vm.instLog.isVisible),callback:function ($$v) {_vm.$set(_vm.instLog, \"isVisible\", $$v)},expression:\"instLog.isVisible\"}},[_c('SqlCMEditor',{attrs:{\"read-only\":true,\"auto-scroll-to-bottom-on-changes\":true},model:{value:(_vm.instLog.data),callback:function ($$v) {_vm.$set(_vm.instLog, \"data\", $$v)},expression:\"instLog.data\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- Data Filter -->\r\n    <div style=\"margin-bottom: 10px; padding: 5px; background-image: linear-gradient(100deg, rgba(60, 213, 255, 0.5), rgba(60, 213, 255, 0.3));\">\r\n      <a-row :gutter=\"16\">\r\n        <a-col class=\"gutter-row\" :span=\"14\" style=\"padding-left: 20px\">\r\n          <div class=\"gutter-box\">\r\n            <span\r\n              >ID :\r\n              <a-input v-model=\"dataFilter.id\" placeholder=\"eg. 1001\" style=\"width: 100px\" size=\"small\" allowClear />\r\n            </span>\r\n            <!--<span style=\"margin-left: 10px\"\r\n              >名称 :\r\n              <a-input v-model=\"dataFilter.name\" placeholder=\"eg. 测试作业\" style=\"width: 200px\" size=\"small\" allowClear />\r\n            </span>-->\r\n            <!--<span style=\"margin-left: 10px\"\r\n              >类型 :\r\n              <a-select v-model=\"dataFilter.type\" style=\"width: 100px\" size=\"small\" allowClear>\r\n                <a-select-option v-for=\"(item, index) in helper.jobTypeList\" :key=\"index\" :value=\"item.value\">\r\n                  {{ item.desc }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </span>-->\r\n            <span style=\"margin-left: 10px\"\r\n              >状态 :\r\n              <a-select v-model=\"dataFilter.status\" style=\"width: 100px\" size=\"small\" allowClear @change=\"getDataList\">\r\n                <a-select-option v-for=\"(item, index) in helper.instStatusList\" :key=\"index\" :value=\"item.value\">\r\n                  {{ item.desc }}\r\n                </a-select-option>\r\n              </a-select>\r\n            </span>\r\n          </div>\r\n        </a-col>\r\n        <a-col class=\"gutter-row\" :span=\"10\" align=\"right\">\r\n          <div class=\"gutter-box\">\r\n            <a-tooltip title=\"周期刷新\">\r\n              <a-switch checked-children=\"开\" un-checked-children=\"关\" v-model=\"helper.isAutoFlush\" @change=\"handleDataListFlush\" />\r\n            </a-tooltip>\r\n            <a-button type=\"primary\" size=\"small\" class=\"filter-tool\" @click=\"onQuery\">查询</a-button>\r\n            <a-button type=\"primary\" size=\"small\" class=\"filter-tool\" @click=\"onGoBack\">返回</a-button>\r\n          </div>\r\n        </a-col>\r\n      </a-row>\r\n    </div>\r\n\r\n    <!-- Data Table List -->\r\n    <div>\r\n      <a-table :columns=\"dataColumnList\" :data-source=\"dataList\" :rowKey=\"item => item.id\" :loading=\"isLoading\" :pagination=\"false\" :scroll=\"{ x: 1920 }\">\r\n        <span slot=\"jobName\" slot-scope=\"current, row\">\r\n          {{ row.job.name }}\r\n        </span>\r\n        <span slot=\"jobType\" slot-scope=\"current, row\">\r\n          {{ row.job.typeDesc }}\r\n        </span>\r\n        <span slot=\"appId\" slot-scope=\"current, row\">\r\n          <a :href=\"row.uiAddress\" target=\"_blank\">{{ current }}</a>\r\n        </span>\r\n        <span slot=\"statusDesc\" slot-scope=\"current, row\">\r\n          <span :style=\"{ color: [3, 4, -1].includes(row.status) ? 'red' : 'green' }\">{{ current }}</span>\r\n        </span>\r\n        <span slot=\"action\" slot-scope=\"row\">\r\n          <a @click=\"onLog(row)\">日志</a>\r\n          <a-divider type=\"vertical\" />\r\n          <router-link :to=\"{ path: 'inst/instDetail', query: { instId: row.id } }\" disabled>详情</router-link>\r\n        </span>\r\n      </a-table>\r\n    </div>\r\n\r\n    <!-- Bottom Tool -->\r\n    <!-- Tools -->\r\n    <div style=\"margin-top: 10px; padding: 5px; background-image: linear-gradient(100deg, rgba(60,213,255,0.30), rgba(60,213,255,0.20));\">\r\n      <row>\r\n        <a-row :gutter=\"16\">\r\n          <a-col class=\"gutter-row\" :span=\"12\">\r\n            <div class=\"gutter-box\">\r\n              <span style=\"font-size: 16px\">周期刷新 : </span>\r\n              <a-switch checked-children=\"开\" un-checked-children=\"关\" v-model=\"helper.isAutoFlush\" @change=\"handleDataListFlush\" />\r\n            </div>\r\n          </a-col>\r\n          <a-col class=\"gutter-row\" :span=\"12\" align=\"right\">\r\n            <div class=\"gutter-box\">\r\n              <a-pagination\r\n                size=\"small\"\r\n                :pageSizeOptions=\"['1', '2', '10', '20', '30', '40', '50', '100', '500', '1000']\"\r\n                :total=\"page.total\"\r\n                :show-total=\"(total, range) => `第 ${range[0]} ~ ${range[1]} 项，共 ${page.total} 项`\"\r\n                show-size-changer\r\n                show-quick-jumper\r\n                @change=\"onPageNumChange\"\r\n                @showSizeChange=\"onPageSizeChange\"\r\n              />\r\n            </div>\r\n          </a-col>\r\n        </a-row>\r\n      </row>\r\n    </div>\r\n\r\n    <!-- 实例日志的对话框 -->\r\n    <a-modal v-model=\"instLog.isVisible\" title=\"实例日志\" @ok=\"handleInstLogModalOk\" @cancel=\"handleInstLogModalCancel\" :width=\"helper.clientWidth * 0.8\">\r\n      <!--      <a-textarea v-model=\"instLog.data\" autoSize=\"auto\" />-->\r\n      <SqlCMEditor v-model=\"instLog.data\" :read-only=\"true\" :auto-scroll-to-bottom-on-changes=\"true\" />\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as instApi from \"@/api/inst\";\r\nimport * as helperApi from \"@/api/helper\";\r\nimport * as utils from \"@/utils/utils\";\r\nimport SqlCMEditor from \"@/components/SqlCMEditor\";\r\nexport default {\r\n  components: {\r\n    SqlCMEditor\r\n  },\r\n  name: \"InstList\",\r\n  props: {\r\n    jobId: {\r\n      default: null\r\n    },\r\n    isAutoFlush: {\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // DataFilter\r\n      dataFilter: {\r\n        id: null,\r\n        jobId: this.jobId,\r\n        status: \"\",\r\n        pageNum: 1,\r\n        pageSize: 10\r\n      },\r\n\r\n      // Data Table List\r\n      dataColumnList: [\r\n        {\r\n          title: \"ID\",\r\n          dataIndex: \"id\",\r\n          width: 80\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          width: 200,\r\n          scopedSlots: { customRender: \"jobName\" }\r\n        },\r\n        {\r\n          title: \"类型\",\r\n          width: 100,\r\n          scopedSlots: { customRender: \"jobType\" }\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          dataIndex: \"createTime\",\r\n          width: 170\r\n        },\r\n        {\r\n          title: \"开始时间\",\r\n          dataIndex: \"startTime\",\r\n          width: 170\r\n        },\r\n        {\r\n          title: \"结束时间\",\r\n          dataIndex: \"stopTime\",\r\n          width: 170\r\n        },\r\n        {\r\n          title: \"Flink UI\",\r\n          dataIndex: \"appId\",\r\n          width: 280,\r\n          scopedSlots: { customRender: \"appId\" }\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          dataIndex: \"statusDesc\",\r\n          width: 100,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          scopedSlots: { customRender: \"statusDesc\" }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          width: 130,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          scopedSlots: { customRender: \"action\" }\r\n        }\r\n      ],\r\n      dataList: [],\r\n      dataTableSelectedRowKeys: [],\r\n      isLoading: false,\r\n\r\n      instLog: {\r\n        isVisible: false,\r\n        data: \"\",\r\n        timer: null\r\n      },\r\n\r\n      // Bottom Tool\r\n      page: {\r\n        total: 0\r\n      },\r\n      dataListTimer: null,\r\n\r\n      // helper\r\n      helper: {\r\n        jobTypeList: [],\r\n        instStatusList: [],\r\n        isAutoFlush: this.isAutoFlush,\r\n        clientWidth: document.documentElement.clientWidth\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    onQuery() {\r\n      this.getDataList();\r\n    },\r\n    onEdit() {\r\n      //\r\n    },\r\n    onGoBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    onDataTableSelectedChange(selectedRowKeys) {\r\n      this.dataTableSelectedRowKeys = selectedRowKeys;\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    onPageNumChange(pageNum, pageSize) {\r\n      this.dataFilter.pageNum = pageNum;\r\n      this.getDataList();\r\n    },\r\n    onPageSizeChange(pageNum, pageSize) {\r\n      this.dataFilter.pageNum = pageNum;\r\n      this.dataFilter.pageSize = pageSize;\r\n      this.getDataList();\r\n    },\r\n    getDataList() {\r\n      this.isLoading = true;\r\n      instApi.getInstPageList(utils.objectDeleteBlankVK(this.dataFilter)).then(resp => {\r\n        this.isLoading = false;\r\n        this.dataList = resp.data.list;\r\n        this.page.total = resp.data.total;\r\n\r\n        // 获取实例列表中最新的实例，不是最终状态就开启周期刷新，否则关闭\r\n        let lastInst = this.dataList[0];\r\n        if (lastInst) {\r\n          // 3:启动失败，4:运行失败，5:已停止，6:运行成功\r\n          if ([3, 4, 5, 6].includes(lastInst.status)) {\r\n            // 关闭刷新\r\n            this.handleDataListFlush(false);\r\n          } else {\r\n            // 开启刷新\r\n            this.helper.isAutoFlush = true;\r\n            this.handleDataListFlush(true);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleInstLogModalOk() {\r\n      this.instLog.isVisible = false;\r\n      this.clearInstLogTimer();\r\n    },\r\n    handleInstLogModalCancel() {\r\n      this.clearInstLogTimer();\r\n    },\r\n    /* 定时器自动刷新 */\r\n    handleDataListFlush(checked) {\r\n      if (checked) {\r\n        if (!this.dataListTimer) {\r\n          this.dataListTimer = this.getDataListTimer();\r\n        }\r\n      } else {\r\n        this.clearDataListTimer();\r\n      }\r\n    },\r\n    getDataListTimer() {\r\n      return setInterval(() => {\r\n        this.getDataList();\r\n      }, 1000);\r\n    },\r\n    clearDataListTimer() {\r\n      clearInterval(this.dataListTimer);\r\n      this.dataListTimer = null;\r\n      this.helper.isAutoFlush = false;\r\n    },\r\n    handleInstLogFlush(checked, row) {\r\n      if (checked) {\r\n        if (!this.instLog.timer) {\r\n          this.instLog.timer = this.getInstLogTimer(row);\r\n        }\r\n      } else {\r\n        this.clearInstLogTimer();\r\n      }\r\n    },\r\n    getInstLogTimer(row) {\r\n      return setInterval(() => {\r\n        this.getInstLog(row);\r\n      }, 1000);\r\n    },\r\n    clearInstLogTimer() {\r\n      clearInterval(this.instLog.timer);\r\n      this.instLog.timer = null;\r\n    },\r\n    getInstLog(row) {\r\n      instApi.getInstLog(row.id).then(resp => {\r\n        this.instLog.data = resp.data;\r\n      });\r\n    },\r\n    /* Helper */\r\n    initHelper() {\r\n      helperApi.getJobTypeList().then(resp => {\r\n        this.helper.jobTypeList = resp.data;\r\n      });\r\n      helperApi.getInstStatusList().then(resp => {\r\n        this.helper.instStatusList = resp.data;\r\n      });\r\n    },\r\n    onLog(row) {\r\n      this.instLog.data = \"\";\r\n      this.instLog.isVisible = true;\r\n\r\n      // 周期刷新\r\n      this.handleInstLogFlush(true, row);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.clearDataListTimer();\r\n    this.clearInstLogTimer();\r\n  },\r\n  created() {\r\n    this.initHelper();\r\n    this.getDataList();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.filter-tool {\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b1d374c4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b1d374c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1d374c4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b1d374c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b1d374c4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('a-page-header',{staticStyle:{\"padding\":\"5px 5px 0 5px\"},attrs:{\"title\":_vm.usageModeHelper.title,\"sub-title\":_vm.usageModeHelper.subTitle},on:{\"back\":function () { return _vm.$router.go(-1); }}},[_c('template',{slot:\"tags\"},[_c('a-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.lastStatusDesc),expression:\"data.lastStatusDesc\"}],style:({ color: [3, 4, -1].includes(_vm.data.lastStatus) ? 'red' : 'green' })},[_vm._v(_vm._s(_vm.data.lastStatusDesc))])],1),_c('template',{slot:\"extra\"},[_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showStartButton),expression:\"usageModeHelper.showStartButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":!_vm.data.authMap.start},on:{\"click\":_vm.onStart}},[_vm._v(\"启动\")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showStopButton),expression:\"usageModeHelper.showStopButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":!_vm.data.authMap.stop},on:{\"click\":_vm.onStop}},[_vm._v(\"停止\")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showEditButton),expression:\"usageModeHelper.showEditButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":!_vm.data.authMap.edit},on:{\"click\":_vm.onEdit}},[_vm._v(\"编辑\")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showUpdateButton),expression:\"usageModeHelper.showUpdateButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onUpdate}},[_vm._v(\"更新\")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showDetailButton),expression:\"usageModeHelper.showDetailButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onDetail}},[_vm._v(\"详情\")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showDeleteButton),expression:\"usageModeHelper.showDeleteButton\"}],staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":!_vm.data.authMap.delete},on:{\"click\":_vm.onDelete}},[_vm._v(\"删除\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onGoBack}},[_vm._v(\"返回\")])],1)],2)],1),_c('a-tabs',{on:{\"change\":_vm.handleTabChange},model:{value:(_vm.helper.activeKey),callback:function ($$v) {_vm.$set(_vm.helper, \"activeKey\", $$v)},expression:\"helper.activeKey\"}},[_c('a-tab-pane',{key:\"job\"},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('a-icon',{attrs:{\"type\":\"file-text\"}}),_vm._v(\" 作业信息 \")],1),_c('a-spin',{attrs:{\"spinning\":_vm.usageModeHelper.isLoading,\"size\":\"large\"}},[_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h2',[_vm._v(\"基本配置\")]),_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.data,\"rules\":_vm.rules,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{attrs:{\"label\":\"作业名称\",\"prop\":\"name\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-input',{model:{value:(_vm.data.name),callback:function ($$v) {_vm.$set(_vm.data, \"name\", $$v)},expression:\"data.name\"}}):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.name))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"作业类型\",\"prop\":\"type\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-select',{attrs:{\"placeholder\":\"请选择作业类型\",\"disabled\":\"\"},model:{value:(_vm.data.type),callback:function ($$v) {_vm.$set(_vm.data, \"type\", $$v)},expression:\"data.type\"}},_vm._l((_vm.helper.jobTypeList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.desc)+\" \")])}),1):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.typeDesc))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"作业描述\"}},[_c('a-textarea',{model:{value:(_vm.data.description),callback:function ($$v) {_vm.$set(_vm.data, \"description\", $$v)},expression:\"data.description\"}})],1),_c('H2',[_vm._v(\"作业配置\")]),_c('a-form-model-item',{attrs:{\"label\":\"主节点内存\",\"prop\":\"flinkConfigJobManagerMemory\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-input',{model:{value:(_vm.data.flinkConfig.jobManagerMemory),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"jobManagerMemory\", $$v)},expression:\"data.flinkConfig.jobManagerMemory\"}}):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.flinkConfig.jobManagerMemory))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"执行节点内存\",\"prop\":\"flinkConfigTaskManagerMemory\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-input',{model:{value:(_vm.data.flinkConfig.taskManagerMemory),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"taskManagerMemory\", $$v)},expression:\"data.flinkConfig.taskManagerMemory\"}}):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.flinkConfig.taskManagerMemory))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"Slot 数/节点\",\"prop\":\"flinkConfigTaskManagerSlots\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-input-number',{attrs:{\"min\":1},model:{value:(_vm.data.flinkConfig.taskManagerSlots),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"taskManagerSlots\", $$v)},expression:\"data.flinkConfig.taskManagerSlots\"}}):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.flinkConfig.taskManagerSlots))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"作业并行度\",\"prop\":\"flinkConfigParallelism\"}},[(['add', 'edit'].includes(_vm.usageMode))?_c('a-input-number',{attrs:{\"min\":1},model:{value:(_vm.data.flinkConfig.parallelism),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"parallelism\", $$v)},expression:\"data.flinkConfig.parallelism\"}}):(['detail'].includes(_vm.usageMode))?_c('span',[_vm._v(_vm._s(_vm.data.flinkConfig.parallelism))]):_vm._e()],1),_c('a-form-model-item',{attrs:{\"label\":\"是否重试\",\"prop\":\"isRetry\"}},[_c('a-switch',{attrs:{\"checked-children\":\"开\",\"un-checked-children\":\"关\"},model:{value:(_vm.data.flinkConfig.isRetry),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"isRetry\", $$v)},expression:\"data.flinkConfig.isRetry\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"Flink 参数\",\"prop\":\"flinkConfigConfigs\"}},[_c('a-textarea',{attrs:{\"autoSize\":{ minRows: 7 },\"placeholder\":\"flink.conf.key1=value1\\nflink.conf.key2=value2\\nflink.conf.key3=value3\"},model:{value:(_vm.data.flinkConfig.configsStr),callback:function ($$v) {_vm.$set(_vm.data.flinkConfig, \"configsStr\", $$v)},expression:\"data.flinkConfig.configsStr\"}}),_vm._l((_vm.helper.defaultFlinkConfs),function(value,key){return _c('div',{key:key},[_vm._v(_vm._s(key + \"=\" + value))])})],2),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: _vm.wrapperCol.span, offset: _vm.labelCol.span }}},[_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showAddButton),expression:\"usageModeHelper.showAddButton\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAdd}},[_vm._v(\" 新建 \")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showUpdateButton),expression:\"usageModeHelper.showUpdateButton\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onUpdate}},[_vm._v(\" 更新 \")]),_c('a-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usageModeHelper.showRest),expression:\"usageModeHelper.showRest\"}],staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.onRest}},[_vm._v(\" 清空 \")])],1)],1)],1)])],1),_c('a-tab-pane',{key:\"sql\"},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('a-icon',{attrs:{\"type\":\"database\"}}),_vm._v(\" Flink SQL \")],1),_c('a-row',{staticClass:\"head\"},[(_vm.alertMessage!=='')?_c('a-alert',{staticStyle:{\"margin-bottom\":\"5px\",\"white-space\":\"pre-wrap\"},attrs:{\"type\":\"error\",\"closable\":\"\"},on:{\"close\":function($event){_vm.alertMessage=''}}},[_c('div',{attrs:{\"slot\":\"message\"},slot:\"message\"},[_vm._v(\" \"+_vm._s(_vm.alertMessage)+\" \"),(_vm.alertException)?_c('a',{on:{\"click\":function($event){_vm.showAlertException=!_vm.showAlertException}}},[_vm._v(\"查看异常信息\")]):_vm._e(),(_vm.showAlertException)?_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_c('br'),_vm._v(_vm._s(_vm.alertException))]):_vm._e()])]):_vm._e(),_c('a-button-group',{staticStyle:{\"float\":\"right\"}},[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"medicine-box\"},on:{\"click\":_vm.sqlParse}},[_vm._v(\"SQL校验\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"medicine-box\"},on:{\"click\":_vm.sqlFormat}},[_vm._v(\"格式化\")])],1)],1),_c('a-row',[_c('SqlCMEditor',{ref:\"sqlEditor\",attrs:{\"height\":\"650\",\"read-only\":_vm.usageModeHelper.editorReadOnly},model:{value:(_vm.data.extraConfig.sql),callback:function ($$v) {_vm.$set(_vm.data.extraConfig, \"sql\", $$v)},expression:\"data.extraConfig.sql\"}})],1)],1),(['detail'].includes(_vm.usageMode))?_c('a-tab-pane',{key:\"instList\"},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('a-icon',{attrs:{\"type\":\"database\"}}),_vm._v(\" 实例列表 \")],1),_c('InstList',{ref:\"refInstList\",attrs:{\"job-id\":_vm.dataId,\"is-auto-flush\":true}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","编辑<template>\r\n  <div>\r\n    <!-- Page Header -->\r\n    <div>\r\n      <a-page-header style=\"padding: 5px 5px 0 5px\" :title=\"usageModeHelper.title\" :sub-title=\"usageModeHelper.subTitle\" @back=\"() => $router.go(-1)\">\r\n        <template slot=\"tags\">\r\n          <a-tag :style=\"{ color: [3, 4, -1].includes(data.lastStatus) ? 'red' : 'green' }\" v-show=\"data.lastStatusDesc\">{{ data.lastStatusDesc }}</a-tag>\r\n        </template>\r\n        <template slot=\"extra\">\r\n          <a-button type=\"primary\" size=\"small\" v-show=\"usageModeHelper.showStartButton\" style=\"margin-right: 5px\" @click=\"onStart\" :disabled=\"!data.authMap.start\">启动</a-button>\r\n          <a-button type=\"danger\" size=\"small\" v-show=\"usageModeHelper.showStopButton\" style=\"margin-right: 5px\" @click=\"onStop\" :disabled=\"!data.authMap.stop\">停止</a-button>\r\n          <a-button type=\"primary\" size=\"small\" v-show=\"usageModeHelper.showEditButton\" style=\"margin-right: 5px\" @click=\"onEdit\" :disabled=\"!data.authMap.edit\">编辑</a-button>\r\n          <a-button type=\"primary\" size=\"small\" v-show=\"usageModeHelper.showUpdateButton\" style=\"margin-right: 5px\" @click=\"onUpdate\">更新</a-button>\r\n          <a-button type=\"primary\" size=\"small\" v-show=\"usageModeHelper.showDetailButton\" style=\"margin-right: 5px\" @click=\"onDetail\">详情</a-button>\r\n          <a-button type=\"danger\" size=\"small\" v-show=\"usageModeHelper.showDeleteButton\" style=\"margin-right: 5px\" @click=\"onDelete\" :disabled=\"!data.authMap.delete\">删除</a-button>\r\n          <a-button type=\"primary\" size=\"small\" @click=\"onGoBack\">返回</a-button>\r\n        </template>\r\n      </a-page-header>\r\n    </div>\r\n\r\n    <!-- Page Content -->\r\n    <a-tabs v-model=\"helper.activeKey\" @change=\"handleTabChange\">\r\n      <a-tab-pane key=\"job\">\r\n        <span slot=\"tab\">\r\n          <a-icon type=\"file-text\" />\r\n          作业信息\r\n        </span>\r\n\r\n        <!-- 作业信息 -->\r\n        <a-spin :spinning=\"usageModeHelper.isLoading\" size=\"large\">\r\n          <div style=\"margin-top: 20px\">\r\n            <h2>基本配置</h2>\r\n            <a-form-model ref=\"ruleForm\" :model=\"data\" :rules=\"rules\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\r\n              <a-form-model-item label=\"作业名称\" prop=\"name\">\r\n                <a-input v-model=\"data.name\" v-if=\"['add', 'edit'].includes(usageMode)\" />\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.name }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"作业类型\" prop=\"type\">\r\n                <a-select v-model=\"data.type\" placeholder=\"请选择作业类型\" disabled v-if=\"['add', 'edit'].includes(usageMode)\">\r\n                  <a-select-option v-for=\"(item, index) in helper.jobTypeList\" :key=\"index\" :value=\"item.value\">\r\n                    {{ item.desc }}\r\n                  </a-select-option>\r\n                </a-select>\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.typeDesc }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"作业描述\">\r\n                <a-textarea v-model=\"data.description\" />\r\n              </a-form-model-item>\r\n\r\n              <H2>作业配置</H2>\r\n              <a-form-model-item label=\"主节点内存\" prop=\"flinkConfigJobManagerMemory\">\r\n                <a-input v-model=\"data.flinkConfig.jobManagerMemory\" v-if=\"['add', 'edit'].includes(usageMode)\" />\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.flinkConfig.jobManagerMemory }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"执行节点内存\" prop=\"flinkConfigTaskManagerMemory\">\r\n                <a-input v-model=\"data.flinkConfig.taskManagerMemory\" v-if=\"['add', 'edit'].includes(usageMode)\" />\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.flinkConfig.taskManagerMemory }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"Slot 数/节点\" prop=\"flinkConfigTaskManagerSlots\">\r\n                <a-input-number v-model=\"data.flinkConfig.taskManagerSlots\" :min=\"1\" v-if=\"['add', 'edit'].includes(usageMode)\" />\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.flinkConfig.taskManagerSlots }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"作业并行度\" prop=\"flinkConfigParallelism\">\r\n                <a-input-number v-model=\"data.flinkConfig.parallelism\" :min=\"1\" v-if=\"['add', 'edit'].includes(usageMode)\" />\r\n                <span v-else-if=\"['detail'].includes(usageMode)\">{{ data.flinkConfig.parallelism }}</span>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"是否重试\" prop=\"isRetry\">\r\n                <a-switch checked-children=\"开\" un-checked-children=\"关\" v-model=\"data.flinkConfig.isRetry\" />\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"Flink 参数\" prop=\"flinkConfigConfigs\">\r\n                <a-textarea\r\n                  v-model=\"data.flinkConfig.configsStr\"\r\n                  :autoSize=\"{ minRows: 7 }\"\r\n                  placeholder=\"flink.conf.key1=value1\r\nflink.conf.key2=value2\r\nflink.conf.key3=value3\"\r\n                />\r\n                <div v-for=\"(value, key) in helper.defaultFlinkConfs\" :key=\"key\">{{ key + \"=\" + value }}</div>\r\n              </a-form-model-item>\r\n\r\n              <a-form-model-item :wrapper-col=\"{ span: wrapperCol.span, offset: labelCol.span }\">\r\n                <a-button type=\"primary\" @click=\"onAdd\" v-show=\"usageModeHelper.showAddButton\">\r\n                  新建\r\n                </a-button>\r\n                <a-button type=\"primary\" @click=\"onUpdate\" v-show=\"usageModeHelper.showUpdateButton\">\r\n                  更新\r\n                </a-button>\r\n                <a-button style=\"margin-left: 10px;\" @click=\"onRest\" v-show=\"usageModeHelper.showRest\">\r\n                  清空\r\n                </a-button>\r\n              </a-form-model-item>\r\n            </a-form-model>\r\n          </div>\r\n        </a-spin>\r\n      </a-tab-pane>\r\n\r\n      <a-tab-pane key=\"sql\">\r\n        <span slot=\"tab\">\r\n          <a-icon type=\"database\" />\r\n          Flink SQL\r\n        </span>\r\n\r\n        <a-row class=\"head\">\r\n          <a-alert v-if=\"alertMessage!==''\" type=\"error\" closable @close=\"alertMessage=''\"\r\n                   style=\"margin-bottom: 5px;white-space:pre-wrap\">\r\n            <div slot=\"message\">\r\n              {{alertMessage}}\r\n              <a v-if=\"alertException\" @click=\"showAlertException=!showAlertException\">查看异常信息</a>\r\n              <span v-if=\"showAlertException\" style=\"white-space:pre-wrap\"><br>{{alertException}}</span>\r\n            </div>\r\n          </a-alert>\r\n            <a-button-group style=\"float: right\">\r\n              <a-button type=\"primary\" icon=\"medicine-box\" @click=\"sqlParse\">SQL校验</a-button>\r\n              <a-button type=\"primary\" icon=\"medicine-box\" @click=\"sqlFormat\">格式化</a-button>\r\n            </a-button-group>\r\n        </a-row>\r\n        <a-row>\r\n          <SqlCMEditor ref=\"sqlEditor\" v-model=\"data.extraConfig.sql\" height=\"650\" :read-only=\"usageModeHelper.editorReadOnly\" />\r\n        </a-row>\r\n\r\n\r\n      </a-tab-pane>\r\n\r\n      <a-tab-pane key=\"instList\" v-if=\"['detail'].includes(usageMode)\">\r\n        <span slot=\"tab\">\r\n          <a-icon type=\"database\" />\r\n          实例列表\r\n        </span>\r\n\r\n        <InstList ref=\"refInstList\" :job-id=\"dataId\" :is-auto-flush=\"true\" />\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as jobApi from \"@/api/job\";\r\nimport * as sqlApi from \"@/api/sql\";\r\nimport * as helperApi from \"@/api/helper\";\r\nimport InstList from \"@/views/inst/list\";\r\nimport SqlCMEditor from \"@/components/SqlCMEditor\";\r\nexport default {\r\n  components: {\r\n    InstList,\r\n    SqlCMEditor\r\n  },\r\n  name: \"JobSqlAddEditDetail\",\r\n  props: {\r\n    // 使用模式\r\n    usageMode: {\r\n      default: \"\" // add | edit | update\r\n    },\r\n    dataId: {\r\n      default: -1\r\n    }\r\n  },\r\n  computed: {\r\n    jobUploadJarUrl: function() {\r\n      return jobApi.UPLOAD_JAR_URL.replace(\"{jobId}\", this.dataId);\r\n    }\r\n  },\r\n  watch: {\r\n    data: {\r\n      deep: true,\r\n      handler() {\r\n        if (this.usageMode === \"edit\" || this.usageMode === \"detail\") {\r\n          this.usageModeHelper.title = this.data.name;\r\n          this.usageModeHelper.subTitle = this.data.description;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      alertMessage: \"\",\r\n      showAlertException: false,\r\n      alertException: \"\",\r\n      labelCol: { span: 4 },\r\n      wrapperCol: { span: 16 },\r\n      data: {\r\n        id: null,\r\n        name: \"\",\r\n        type: 1,\r\n        lastStatus: null,\r\n        statusDesc: \"\",\r\n        clientVersion: \"\",\r\n        flinkConfig: {\r\n          jobManagerMemory: \"1G\",\r\n          taskManagerMemory: \"2G\",\r\n          taskManagerSlots: \"\",\r\n          parallelism: 1,\r\n          isRetry: false,\r\n          configsStr: \"\",\r\n          configs: \"\"\r\n        },\r\n        extraConfig: {\r\n          sql: \"\"\r\n        },\r\n        authMap: {\r\n          edit: false,\r\n          delete: false,\r\n          start: false,\r\n          stop: false,\r\n          restart: false\r\n        }\r\n      },\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入作业名！\", trigger: \"blur\" }],\r\n        type: [{ required: true, message: \"请选择作业类型！\", trigger: \"blur\" }]\r\n\r\n        // 下拉框的校验规则，对面里面还有子对象的规则，未直接生效，后续看看怎么弄\r\n        /*\r\n        flinkConfigJobManagerMemory: [{ required: true, message: \"请输入主节点内存！\", trigger: \"blur\" }],\r\n        flinkConfigTaskManagerMemory: [{ required: true, message: \"请输入执行节点内存！\", trigger: \"blur\" }],\r\n        flinkConfigTaskManagerSlots: [{ required: true, message: \"请输入执行节点核数！\", trigger: \"blur\" }]\r\n        */\r\n      },\r\n      usageModeHelper: {\r\n        showPassword: false,\r\n        showAddButton: false,\r\n        showStartButton: false,\r\n        showStopButton: false,\r\n        showUpdateButton: false,\r\n        showEditButton: false,\r\n        showDetailButton: false,\r\n        showDeleteButton: false,\r\n        showRest: true,\r\n        isLoading: false,\r\n        editorReadOnly: true,\r\n        title: \"\",\r\n        subTitle: \"\"\r\n      },\r\n\r\n      // helper\r\n      helper: {\r\n        jobTypeList: [],\r\n        jobJarList: [],\r\n        jobClientVersionList: [],\r\n        activeKey: \"job\",\r\n        defaultFlinkConfs: {}\r\n      },\r\n      dataTimer: null\r\n    };\r\n  },\r\n  methods: {\r\n    showAlert(msg, exception) {\r\n      this.alertMessage = msg;\r\n      this.showAlertException = false;\r\n      if (exception) {\r\n        this.alertException = exception;\r\n      } else {\r\n        this.alertException = null;\r\n      }\r\n    },\r\n    sqlFormat(){\r\n      this.$refs.sqlEditor.formatSql();\r\n    },\r\n    sqlParse(){\r\n      this.$refs.sqlEditor.clearMarker();\r\n      sqlApi.sqlParse(this.data.extraConfig.sql).then(res => {\r\n        if(res.code===10004){\r\n          this.$refs.sqlEditor.markText(res.data.lineNumber-1,res.data.columnNumber-1,res.data.endLineNumber-1,res.data.endColumnNumber);\r\n          this.showAlert(res.msg);\r\n        }else {\r\n          this.$Notice.success({\r\n            title: \"SQL校验成功！\"\r\n          });\r\n        }\r\n      }).catch(res => {\r\n        console.log(res)\r\n        this.showAlert(res.msg,res.exceptionStackTrace);\r\n      });\r\n    },\r\n    onAdd() {\r\n      this.$refs.ruleForm.validate(valid => {\r\n        if (valid) {\r\n          jobApi.addJob(this.data).then(resp => {\r\n            this.$router.push({\r\n              path: \"/page/job/jobDetail\",\r\n              query: {\r\n                jobId: resp.data.id\r\n              }\r\n            });\r\n            this.$Notice.success({\r\n              title: \"新建作业成功！\"\r\n            });\r\n          });\r\n        } else {\r\n          this.$message.error(\"请检查必填项！！！\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    onUpdate() {\r\n      this.$refs.ruleForm.validate(valid => {\r\n        if (valid) {\r\n          let configsStr = this.data.flinkConfig.configsStr;\r\n          let configKVs = configsStr ? configsStr.split(/[\\n]+/) : [];\r\n          let configKVMap = {};\r\n          if (configKVs.length > 0) {\r\n            configKVs.forEach(item => {\r\n              let kv = item.split(\"=\");\r\n              let k = kv[0];\r\n              let v = kv[1];\r\n              configKVMap[k] = v;\r\n            });\r\n          }\r\n          let data = {\r\n            id: this.data.id,\r\n            name: this.data.name,\r\n            type: this.data.type,\r\n            description: this.data.description,\r\n            flinkConfig: {\r\n              jobManagerMemory: this.data.flinkConfig.jobManagerMemory,\r\n              taskManagerMemory: this.data.flinkConfig.taskManagerMemory,\r\n              taskManagerSlots: this.data.flinkConfig.taskManagerSlots,\r\n              parallelism: this.data.flinkConfig.parallelism,\r\n              isRetry: this.data.flinkConfig.isRetry,\r\n              configs: configKVMap\r\n            },\r\n            extraConfig: this.data.extraConfig\r\n          };\r\n          jobApi.updateJob(data).then(() => {\r\n            this.$router.push({\r\n              path: \"/page/job/jobDetail\",\r\n              query: {\r\n                type: this.data.type,\r\n                jobId: this.data.id\r\n              }\r\n            });\r\n            this.$Notice.success({\r\n              title: \"更新作业成功！\"\r\n            });\r\n          });\r\n        } else {\r\n          this.$message.error(\"请检查必填项\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    onEdit() {\r\n      this.$router.push({\r\n        path: \"/page/job/jobEdit\",\r\n        query: {\r\n          type: this.data.type,\r\n          jobId: this.data.id\r\n        }\r\n      });\r\n    },\r\n    onDetail() {\r\n      this.$router.push({\r\n        path: \"/page/job/jobDetail\",\r\n        query: {\r\n          type: this.data.type,\r\n          jobId: this.data.id\r\n        }\r\n      });\r\n    },\r\n    onDelete() {\r\n      jobApi.deleteJob(this.data.id).then(() => {\r\n        this.$Notice.success({\r\n          title: \"删除作业成功！\"\r\n        });\r\n        this.$router.push({\r\n          path: \"/page/job/jobList\"\r\n        });\r\n      });\r\n    },\r\n    onStart() {\r\n      jobApi.startJob(this.data.id).then(() => {\r\n        this.$Notice.success({\r\n          title: \"启动作业成功！\"\r\n        });\r\n        this.handleFlush(true);\r\n\r\n        if (this.helper.activeKey === \"instList\") {\r\n          // 子组件刷新数据\r\n          this.$refs.refInstList.getDataList();\r\n        }\r\n      });\r\n    },\r\n    onStop() {\r\n      jobApi.stopJob(this.data.id).then(() => {\r\n        this.$Notice.success({\r\n          title: \"停止作业成功！\"\r\n        });\r\n        this.getData();\r\n      });\r\n    },\r\n    /* 定时器自动刷新 */\r\n    handleFlush(checked) {\r\n      if (checked) {\r\n        if (!this.dataTimer) {\r\n          this.dataTimer = this.getDataTimer();\r\n        }\r\n      } else {\r\n        this.clearDataTimer();\r\n      }\r\n    },\r\n    getDataTimer() {\r\n      return setInterval(() => {\r\n        this.getData();\r\n      }, 1000);\r\n    },\r\n    clearDataTimer() {\r\n      clearInterval(this.dataTimer);\r\n      this.dataTimer = null;\r\n    },\r\n    onRest() {\r\n      this.data = {};\r\n    },\r\n    handleJarUploadChange(info) {\r\n      if (info.file.status === \"done\") {\r\n        this.$message.success(`${info.file.name} 上传成功！`);\r\n\r\n        this.getJobUploadJarList();\r\n      } else if (info.file.status === \"error\") {\r\n        this.$message.error(`${info.file.name} 上传失败！`);\r\n      }\r\n    },\r\n    onGoBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    handleTabChange(activeKey) {\r\n      if (activeKey !== \"instList\") {\r\n        // 实例列表清除定时器\r\n        if (this.$refs.refInstList) {\r\n          this.$refs.refInstList.clearDataListTimer();\r\n        }\r\n      } else {\r\n        if (this.$refs.refInstList) {\r\n          this.$refs.refInstList.getDataList();\r\n        }\r\n      }\r\n    },\r\n    initAddUsageModel() {\r\n      this.usageModeHelper.showAddButton = true;\r\n      this.usageModeHelper.showUpdateButton = false;\r\n      this.usageModeHelper.showPassword = true;\r\n      this.usageModeHelper.title = \"新建作业\";\r\n      this.usageModeHelper.subTitle = \"请仔细核对作业信息哟！\";\r\n    },\r\n    initEditUsageModel() {\r\n      this.usageModeHelper.isLoading = true;\r\n      this.usageModeHelper.showAddButton = false;\r\n      this.usageModeHelper.showUpdateButton = true;\r\n      this.usageModeHelper.showPassword = true;\r\n      this.usageModeHelper.showPassword = true;\r\n      this.usageModeHelper.showDetailButton = true;\r\n      this.usageModeHelper.showStartButton = false;\r\n      this.usageModeHelper.showStopButton = false;\r\n      (this.usageModeHelper.editorReadOnly = false), (this.usageModeHelper.title = \"编辑作业\");\r\n      this.usageModeHelper.subTitle = \"请仔细核对作业信息哟！\";\r\n    },\r\n    initDetailUsageModel() {\r\n      this.usageModeHelper.showAddButton = false;\r\n      this.usageModeHelper.showUpdateButton = false;\r\n      this.usageModeHelper.showPassword = false;\r\n      this.usageModeHelper.showRest = false;\r\n      this.usageModeHelper.showEditButton = true;\r\n      this.usageModeHelper.showDeleteButton = true;\r\n      this.usageModeHelper.showStartButton = true;\r\n      this.usageModeHelper.showStopButton = true;\r\n      (this.usageModeHelper.editorReadOnly = true), (this.usageModeHelper.title = \"作业详情\");\r\n      this.usageModeHelper.subTitle = \"请仔细核对作业信息哟！\";\r\n    },\r\n    getData() {\r\n      this.usageModeHelper.isLoading = true;\r\n      // 根据 ID 获取数据详情\r\n      jobApi.getJob(this.dataId).then(resp => {\r\n        this.usageModeHelper.isLoading = false;\r\n        this.data = resp.data;\r\n\r\n        // test\r\n        if (!this.data[\"extraConfig\"].sql) {\r\n          this.data[\"extraConfig\"] = {\r\n            sql: \"\"\r\n          };\r\n        }\r\n\r\n        // str to map\r\n        let configsStr = \"\";\r\n        if (this.data.flinkConfig.configs) {\r\n          let count = 0;\r\n          Object.entries(this.data.flinkConfig.configs).forEach(item => {\r\n            if (count > 0) {\r\n              configsStr += \"\\n\";\r\n            }\r\n            configsStr += `${item[0]}=${item[1]}`;\r\n            count += 1;\r\n          });\r\n        }\r\n        this.data.flinkConfig.configsStr = configsStr;\r\n\r\n        // 最终状态清除定时器\r\n        if ([3, 4, 5, 6].includes(this.data.lastStatus)) {\r\n          this.clearDataTimer();\r\n        }\r\n      });\r\n    },\r\n    getJobUploadJarList() {\r\n      jobApi.getJobJarList(this.dataId).then(resp => {\r\n        this.helper.jobJarList = resp.data;\r\n      });\r\n    },\r\n    initHelper() {\r\n      helperApi.getJobTypeList().then(resp => {\r\n        this.helper.jobTypeList = resp.data;\r\n      });\r\n      helperApi.getJobClientVersionList().then(resp => {\r\n        this.helper.jobClientVersionList = resp.data;\r\n      });\r\n      helperApi.getDefaultFlinkConfs().then(resp => {\r\n        this.helper.defaultFlinkConfs = resp.data;\r\n      });\r\n      this.getJobUploadJarList();\r\n    },\r\n    initUsageModel() {\r\n      // 使用模式\r\n      switch (this.usageMode) {\r\n        case \"add\":\r\n          this.initAddUsageModel();\r\n          break;\r\n        case \"edit\":\r\n          this.getData();\r\n          this.initEditUsageModel();\r\n          break;\r\n        case \"detail\":\r\n          this.getData();\r\n          this.initDetailUsageModel();\r\n          break;\r\n      }\r\n    },\r\n    beforeDestroy() {\r\n      this.clearDataTimer();\r\n    },\r\n    init() {\r\n      this.initHelper();\r\n      this.initUsageModel();\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .head {\r\n    background: rgba(242, 241, 244, 0.95);\r\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .12), 0 0 6px 0 rgba(0, 0, 0, .04)\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4ff8310b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4ff8310b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ff8310b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/api/jobInstanceApi.ts","webpack:///./src/pages/job/JobInstanceList.vue?57e3","webpack:///./src/components/job/JobInstanceListCustom.vue?b67c","webpack:///./src/components/job/JobInstanceListCustom.vue","webpack:///./src/components/job/JobInstanceListCustom.vue?855b","webpack:///./src/components/job/JobInstanceListCustom.vue?07b5","webpack:///./src/pages/job/JobInstanceList.vue","webpack:///./src/pages/job/JobInstanceList.vue?121b","webpack:///./src/pages/job/JobInstanceList.vue?40cd"],"names":["QUERY_JOB_INSTANCES_URL","queryJobInstances","params","_vm","this","_h","$createElement","_c","_self","type","_e","staticRenderFns","staticStyle","attrs","_v","model","value","jobInstanceListFilter","callback","$$v","$set","expression","_l","item","key","_s","desc","on","clickQuery","ref","jobInstanceListColumns","jobInstanceList","scopedSlots","_u","fn","row","status","statusDesc","jobInstanceListFilterPage","total","pageNum","pageSize","pageChange","pageSizeChange","hintJobTypeEnum","hintJobInstanceStatusEnum","title","align","minWidth","render","h","click","handClickJobInstanceListColumnName","job","name","typeDesc","date","dateFormat","createTime","startTime","stopTime","ellipsis","handClickJobInstanceListColumnUiAddress","appId","slot","fixed","id","$router","push","path","query","window","open","uiAddress","history","pushState","location","pathname","tqs","stringifyExcludedBlank","getJobInstanceList","num","size","jobInstanceApi","collection","mapDeleteBlankVK","then","res","list","catch","err","$Notice","error","msg","enumApi","jobType","jobInstanceStatus","mapLeftJoinCopy","$route","parseRouter","getEnums","components","ButtonJobStatus","component","JobInstanceListCustom"],"mappings":"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","file":"js/chunk-2ae08063.5966dfd4.js","sourcesContent":["import { get, post } from \"@/utils/http.ts\";\n\nconst QUERY_JOB_INSTANCES_URL = \"/mng/jobInstance/queryJobInstances/\";\n\nfunction queryJobInstances(params: any) {\n  return get(QUERY_JOB_INSTANCES_URL, params);\n}\n\nexport default {\n  queryJobInstances\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.type === 1)?_c('div',[_c('JobInstanceListCustom')],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"padding\":\"5px\",\"background\":\"#f8f8f9\"}},[_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"span\":\"22\"}},[_c('span',[_vm._v(\" ID : \")]),_c('Input',{staticStyle:{\"width\":\"80px\"},attrs:{\"placeholder\":\"\",\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.jobInstanceListFilter.id),callback:function ($$v) {_vm.$set(_vm.jobInstanceListFilter, \"id\", $$v)},expression:\"jobInstanceListFilter.id\"}}),_c('span',[_vm._v(\" 状态 : \")]),_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.jobInstanceListFilter.status),callback:function ($$v) {_vm.$set(_vm.jobInstanceListFilter, \"status\", $$v)},expression:\"jobInstanceListFilter.status\"}},_vm._l((_vm.hintJobInstanceStatusEnum),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.desc))])}),1)],1),_c('Col',{attrs:{\"span\":\"2\",\"align\":\"right\"}},[_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.clickQuery}},[_vm._v(\"查询\")])],1)],1)],1),_c('div',[_c('Table',{ref:\"selection\",attrs:{\"stripe\":\"\",\"columns\":_vm.jobInstanceListColumns,\"data\":_vm.jobInstanceList},scopedSlots:_vm._u([{key:\"status\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('ButtonJobStatus',{attrs:{\"size\":\"small\",\"status\":row.status,\"text\":row.statusDesc}})]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"padding\":\"5px\",\"background\":\"#f8f8f9\"}},[_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"align\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.jobInstanceListFilterPage.total,\"current\":_vm.jobInstanceListFilter.pageNum,\"page-size\":_vm.jobInstanceListFilter.pageSize,\"page-size-opts\":[5, 10, 20, 50, 100],\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\",\"size\":\"small\"},on:{\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizeChange}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { IJobInstance } from \"@/model/jobInstanceModel\";\nimport jobInstanceApi from \"@/api/jobInstanceApi\";\nimport enumApi from \"@/api/enumApi\";\nimport date from \"@/utils/date\";\nimport collection from \"@/utils/collection\";\nimport ButtonJobStatus from \"@/components/job/ButtonJobStatus.vue\";\n// @ts-ignore\nimport tqs from \"@/utils/tqs\";\n\n@Component({\n  components: {\n    ButtonJobStatus\n  }\n})\nexport default class JobList extends Vue {\n  // hint\n  hintJobTypeEnum: any[] = [];\n  hintJobInstanceStatusEnum: any[] = [];\n  // Job Props\n  jobInstanceListColumns: object[] = [\n    /*{\n      type: \"expand\",\n      key: \"id\",\n      width: 50\n    },*/\n    {\n      title: \"ID\",\n      key: \"id\",\n      align: \"center\",\n      minWidth: 50\n    },\n    {\n      title: \"名称\",\n      align: \"center\",\n      minWidth: 200,\n      render: (h: any, params: any) => {\n        return h(\n          \"a\",\n          {\n            on: {\n              click: () => {\n                this.handClickJobInstanceListColumnName(params.row);\n              }\n            }\n          },\n          params.row.job.name\n        );\n      }\n    },\n    {\n      title: \"类型\",\n      align: \"center\",\n      minWidth: 150,\n      render: function(h: any, params: any) {\n        return h(\"div\", params.row.job.typeDesc);\n      }\n    },\n    {\n      title: \"创建时间\",\n      key: \"createTime\",\n      align: \"center\",\n      minWidth: 166,\n      render: function(h: any, params: any) {\n        return h(\"div\", date.dateFormat(params.row.createTime));\n      }\n    },\n    {\n      title: \"开始时间\",\n      key: \"startTime\",\n      align: \"center\",\n      minWidth: 166,\n      render: function(h: any, params: any) {\n        return h(\"div\", date.dateFormat(params.row.startTime));\n      }\n    },\n    {\n      title: \"结束时间\",\n      key: \"stopTime\",\n      align: \"center\",\n      minWidth: 166,\n      render: function(h: any, params: any) {\n        return h(\"div\", date.dateFormat(params.row.stopTime));\n      }\n    },\n    {\n      title: \"Flink UI\",\n      key: \"uiAddress\",\n      align: \"center\",\n      minWidth: 250,\n      ellipsis: true,\n      render: (h: any, params: any) => {\n        return h(\n          \"a\",\n          {\n            on: {\n              click: () => {\n                this.handClickJobInstanceListColumnUiAddress(params.row);\n              }\n            }\n          },\n          params.row.appId\n        );\n      }\n    },\n    {\n      title: \"状态\",\n      key: \"status\",\n      align: \"center\",\n      minWidth: 100,\n      slot: \"status\",\n      fixed: \"right\"\n    }\n  ];\n  jobInstanceList: IJobInstance[] = [];\n  jobInstanceListFilter: any = {\n    id: null,\n    /*name: null,\n    type: null,*/\n    status: null,\n    pageNum: 1,\n    pageSize: 10\n  };\n  jobInstanceListFilterPage: any = {\n    total: null\n  };\n  handClickJobInstanceListColumnName(row: any) {\n    this.$router.push({\n      path: \"/page/job/detail\",\n      query: {\n        id: row.job.id\n      }\n    });\n  }\n  handClickJobInstanceListColumnUiAddress(row: any) {\n    window.open(row.uiAddress, \"_blank\");\n  }\n  clickQuery() {\n    history.pushState(\n      {},\n      \"\",\n      window.location.pathname +\n        \"?\" +\n        tqs.stringifyExcludedBlank(this.jobInstanceListFilter)\n    );\n    this.getJobInstanceList();\n  }\n  pageChange(num: number) {\n    this.jobInstanceListFilter.pageNum = num;\n    this.getJobInstanceList();\n  }\n  pageSizeChange(size: number) {\n    this.jobInstanceListFilter.pageSize = size;\n    this.getJobInstanceList();\n  }\n\n  getJobInstanceList() {\n    jobInstanceApi\n      .queryJobInstances(\n        collection.mapDeleteBlankVK(this.jobInstanceListFilter)\n      )\n      .then((res: any) => {\n        this.jobInstanceList = res.list;\n        this.jobInstanceListFilterPage.total = res.total;\n      })\n      .catch(err => {\n        this.$Notice.error({ title: err.msg });\n      });\n  }\n  getEnums() {\n    enumApi.jobType().then((res: any) => {\n      this.hintJobTypeEnum = res;\n    });\n    enumApi.jobInstanceStatus().then((res: any) => {\n      this.hintJobInstanceStatusEnum = res;\n    });\n  }\n  parseRouter() {\n    this.jobInstanceListFilter = collection.mapLeftJoinCopy(\n      this.jobInstanceListFilter,\n      this.$route.query\n    );\n  }\n  mounted() {\n    this.parseRouter();\n    this.getEnums();\n    this.getJobInstanceList();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobInstanceListCustom.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobInstanceListCustom.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./JobInstanceListCustom.vue?vue&type=template&id=0bc0343e&scoped=true&\"\nimport script from \"./JobInstanceListCustom.vue?vue&type=script&lang=ts&\"\nexport * from \"./JobInstanceListCustom.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bc0343e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport JobInstanceListCustom from \"@/components/job/JobInstanceListCustom.vue\";\n\n@Component({\n  components: {\n    JobInstanceListCustom\n  }\n})\nexport default class JobInstanceList extends Vue {\n  type: number = 1;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobInstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobInstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./JobInstanceList.vue?vue&type=template&id=53f8c46c&scoped=true&\"\nimport script from \"./JobInstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./JobInstanceList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53f8c46c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}